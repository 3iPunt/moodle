{"version":3,"file":"tooltip.min.js","sources":["../../src/bootstrap/tooltip.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v4.5.0): tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  DefaultWhitelist,\n  sanitizeHtml\n} from './tools/sanitizer'\nimport $ from 'jquery'\nimport Popper from 'core/popper'\nimport Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME                  = 'tooltip'\nconst VERSION               = '4.5.0'\nconst DATA_KEY              = 'bs.tooltip'\nconst EVENT_KEY             = `.${DATA_KEY}`\nconst JQUERY_NO_CONFLICT    = $.fn[NAME]\nconst CLASS_PREFIX          = 'bs-tooltip'\nconst BSCLS_PREFIX_REGEX    = new RegExp(`(^|\\\\s)${CLASS_PREFIX}\\\\S+`, 'g')\nconst DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn']\n\nconst DefaultType = {\n  animation         : 'boolean',\n  template          : 'string',\n  title             : '(string|element|function)',\n  trigger           : 'string',\n  delay             : '(number|object)',\n  html              : 'boolean',\n  selector          : '(string|boolean)',\n  placement         : '(string|function)',\n  offset            : '(number|string|function)',\n  container         : '(string|element|boolean)',\n  fallbackPlacement : '(string|array)',\n  boundary          : '(string|element)',\n  sanitize          : 'boolean',\n  sanitizeFn        : '(null|function)',\n  whiteList         : 'object',\n  popperConfig      : '(null|object)'\n}\n\nconst AttachmentMap = {\n  AUTO   : 'auto',\n  TOP    : 'top',\n  RIGHT  : 'right',\n  BOTTOM : 'bottom',\n  LEFT   : 'left'\n}\n\nconst Default = {\n  animation         : true,\n  template          : '<div class=\"tooltip\" role=\"tooltip\">' +\n                    '<div class=\"arrow\"></div>' +\n                    '<div class=\"tooltip-inner\"></div></div>',\n  trigger           : 'hover focus',\n  title             : '',\n  delay             : 0,\n  html              : false,\n  selector          : false,\n  placement         : 'top',\n  offset            : 0,\n  container         : false,\n  fallbackPlacement : 'flip',\n  boundary          : 'scrollParent',\n  sanitize          : true,\n  sanitizeFn        : null,\n  whiteList         : DefaultWhitelist,\n  popperConfig      : null\n}\n\nconst HOVER_STATE_SHOW = 'show'\nconst HOVER_STATE_OUT  = 'out'\n\nconst Event = {\n  HIDE       : `hide${EVENT_KEY}`,\n  HIDDEN     : `hidden${EVENT_KEY}`,\n  SHOW       : `show${EVENT_KEY}`,\n  SHOWN      : `shown${EVENT_KEY}`,\n  INSERTED   : `inserted${EVENT_KEY}`,\n  CLICK      : `click${EVENT_KEY}`,\n  FOCUSIN    : `focusin${EVENT_KEY}`,\n  FOCUSOUT   : `focusout${EVENT_KEY}`,\n  MOUSEENTER : `mouseenter${EVENT_KEY}`,\n  MOUSELEAVE : `mouseleave${EVENT_KEY}`\n}\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner'\nconst SELECTOR_ARROW         = '.arrow'\n\nconst TRIGGER_HOVER  = 'hover'\nconst TRIGGER_FOCUS  = 'focus'\nconst TRIGGER_CLICK  = 'click'\nconst TRIGGER_MANUAL = 'manual'\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass Tooltip {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper.js (https://popper.js.org/)')\n    }\n\n    // private\n    this._isEnabled     = true\n    this._timeout       = 0\n    this._hoverState    = ''\n    this._activeTrigger = {}\n    this._popper        = null\n\n    // Protected\n    this.element = element\n    this.config  = this._getConfig(config)\n    this.tip     = null\n\n    this._setListeners()\n  }\n\n  // Getters\n\n  static get VERSION() {\n    return VERSION\n  }\n\n  static get Default() {\n    return Default\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get DATA_KEY() {\n    return DATA_KEY\n  }\n\n  static get Event() {\n    return Event\n  }\n\n  static get EVENT_KEY() {\n    return EVENT_KEY\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  // Public\n\n  enable() {\n    this._isEnabled = true\n  }\n\n  disable() {\n    this._isEnabled = false\n  }\n\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled\n  }\n\n  toggle(event) {\n    if (!this._isEnabled) {\n      return\n    }\n\n    if (event) {\n      const dataKey = this.constructor.DATA_KEY\n      let context = $(event.currentTarget).data(dataKey)\n\n      if (!context) {\n        context = new this.constructor(\n          event.currentTarget,\n          this._getDelegateConfig()\n        )\n        $(event.currentTarget).data(dataKey, context)\n      }\n\n      context._activeTrigger.click = !context._activeTrigger.click\n\n      if (context._isWithActiveTrigger()) {\n        context._enter(null, context)\n      } else {\n        context._leave(null, context)\n      }\n    } else {\n      if ($(this.getTipElement()).hasClass(CLASS_NAME_SHOW)) {\n        this._leave(null, this)\n        return\n      }\n\n      this._enter(null, this)\n    }\n  }\n\n  dispose() {\n    clearTimeout(this._timeout)\n\n    $.removeData(this.element, this.constructor.DATA_KEY)\n\n    $(this.element).off(this.constructor.EVENT_KEY)\n    $(this.element).closest('.modal').off('hide.bs.modal', this._hideModalHandler)\n\n    if (this.tip) {\n      $(this.tip).remove()\n    }\n\n    this._isEnabled     = null\n    this._timeout       = null\n    this._hoverState    = null\n    this._activeTrigger = null\n    if (this._popper) {\n      this._popper.destroy()\n    }\n\n    this._popper = null\n    this.element = null\n    this.config  = null\n    this.tip     = null\n  }\n\n  show() {\n    if ($(this.element).css('display') === 'none') {\n      throw new Error('Please use show on visible elements')\n    }\n\n    const showEvent = $.Event(this.constructor.Event.SHOW)\n    if (this.isWithContent() && this._isEnabled) {\n      $(this.element).trigger(showEvent)\n\n      const shadowRoot = Util.findShadowRoot(this.element)\n      const isInTheDom = $.contains(\n        shadowRoot !== null ? shadowRoot : this.element.ownerDocument.documentElement,\n        this.element\n      )\n\n      if (showEvent.isDefaultPrevented() || !isInTheDom) {\n        return\n      }\n\n      const tip   = this.getTipElement()\n      const tipId = Util.getUID(this.constructor.NAME)\n\n      tip.setAttribute('id', tipId)\n      this.element.setAttribute('aria-describedby', tipId)\n\n      this.setContent()\n\n      if (this.config.animation) {\n        $(tip).addClass(CLASS_NAME_FADE)\n      }\n\n      const placement  = typeof this.config.placement === 'function'\n        ? this.config.placement.call(this, tip, this.element)\n        : this.config.placement\n\n      const attachment = this._getAttachment(placement)\n      this.addAttachmentClass(attachment)\n\n      const container = this._getContainer()\n      $(tip).data(this.constructor.DATA_KEY, this)\n\n      if (!$.contains(this.element.ownerDocument.documentElement, this.tip)) {\n        $(tip).appendTo(container)\n      }\n\n      $(this.element).trigger(this.constructor.Event.INSERTED)\n\n      this._popper = new Popper(this.element, tip, this._getPopperConfig(attachment))\n\n      $(tip).addClass(CLASS_NAME_SHOW)\n\n      // If this is a touch-enabled device we add extra\n      // empty mouseover listeners to the body's immediate children;\n      // only needed because of broken event delegation on iOS\n      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n      if ('ontouchstart' in document.documentElement) {\n        $(document.body).children().on('mouseover', null, $.noop)\n      }\n\n      const complete = () => {\n        if (this.config.animation) {\n          this._fixTransition()\n        }\n        const prevHoverState = this._hoverState\n        this._hoverState     = null\n\n        $(this.element).trigger(this.constructor.Event.SHOWN)\n\n        if (prevHoverState === HOVER_STATE_OUT) {\n          this._leave(null, this)\n        }\n      }\n\n      if ($(this.tip).hasClass(CLASS_NAME_FADE)) {\n        const transitionDuration = Util.getTransitionDurationFromElement(this.tip)\n\n        $(this.tip)\n          .one(Util.TRANSITION_END, complete)\n          .emulateTransitionEnd(transitionDuration)\n      } else {\n        complete()\n      }\n    }\n  }\n\n  hide(callback) {\n    const tip       = this.getTipElement()\n    const hideEvent = $.Event(this.constructor.Event.HIDE)\n    const complete = () => {\n      if (this._hoverState !== HOVER_STATE_SHOW && tip.parentNode) {\n        tip.parentNode.removeChild(tip)\n      }\n\n      this._cleanTipClass()\n      this.element.removeAttribute('aria-describedby')\n      $(this.element).trigger(this.constructor.Event.HIDDEN)\n      if (this._popper !== null) {\n        this._popper.destroy()\n      }\n\n      if (callback) {\n        callback()\n      }\n    }\n\n    $(this.element).trigger(hideEvent)\n\n    if (hideEvent.isDefaultPrevented()) {\n      return\n    }\n\n    $(tip).removeClass(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      $(document.body).children().off('mouseover', null, $.noop)\n    }\n\n    this._activeTrigger[TRIGGER_CLICK] = false\n    this._activeTrigger[TRIGGER_FOCUS] = false\n    this._activeTrigger[TRIGGER_HOVER] = false\n\n    if ($(this.tip).hasClass(CLASS_NAME_FADE)) {\n      const transitionDuration = Util.getTransitionDurationFromElement(tip)\n\n      $(tip)\n        .one(Util.TRANSITION_END, complete)\n        .emulateTransitionEnd(transitionDuration)\n    } else {\n      complete()\n    }\n\n    this._hoverState = ''\n  }\n\n  update() {\n    if (this._popper !== null) {\n      this._popper.scheduleUpdate()\n    }\n  }\n\n  // Protected\n\n  isWithContent() {\n    return Boolean(this.getTitle())\n  }\n\n  addAttachmentClass(attachment) {\n    $(this.getTipElement()).addClass(`${CLASS_PREFIX}-${attachment}`)\n  }\n\n  getTipElement() {\n    this.tip = this.tip || $(this.config.template)[0]\n    return this.tip\n  }\n\n  setContent() {\n    const tip = this.getTipElement()\n    this.setElementContent($(tip.querySelectorAll(SELECTOR_TOOLTIP_INNER)), this.getTitle())\n    $(tip).removeClass(`${CLASS_NAME_FADE} ${CLASS_NAME_SHOW}`)\n  }\n\n  setElementContent($element, content) {\n    if (typeof content === 'object' && (content.nodeType || content.jquery)) {\n      // Content is a DOM node or a jQuery\n      if (this.config.html) {\n        if (!$(content).parent().is($element)) {\n          $element.empty().append(content)\n        }\n      } else {\n        $element.text($(content).text())\n      }\n\n      return\n    }\n\n    if (this.config.html) {\n      if (this.config.sanitize) {\n        content = sanitizeHtml(content, this.config.whiteList, this.config.sanitizeFn)\n      }\n\n      $element.html(content)\n    } else {\n      $element.text(content)\n    }\n  }\n\n  getTitle() {\n    let title = this.element.getAttribute('data-original-title')\n\n    if (!title) {\n      title = typeof this.config.title === 'function'\n        ? this.config.title.call(this.element)\n        : this.config.title\n    }\n\n    return title\n  }\n\n  // Private\n\n  _getPopperConfig(attachment) {\n    const defaultBsConfig = {\n      placement: attachment,\n      modifiers: {\n        offset: this._getOffset(),\n        flip: {\n          behavior: this.config.fallbackPlacement\n        },\n        arrow: {\n          element: SELECTOR_ARROW\n        },\n        preventOverflow: {\n          boundariesElement: this.config.boundary\n        }\n      },\n      onCreate: (data) => {\n        if (data.originalPlacement !== data.placement) {\n          this._handlePopperPlacementChange(data)\n        }\n      },\n      onUpdate: (data) => this._handlePopperPlacementChange(data)\n    }\n\n    return {\n      ...defaultBsConfig,\n      ...this.config.popperConfig\n    }\n  }\n\n  _getOffset() {\n    const offset = {}\n\n    if (typeof this.config.offset === 'function') {\n      offset.fn = (data) => {\n        data.offsets = {\n          ...data.offsets,\n          ...this.config.offset(data.offsets, this.element) || {}\n        }\n\n        return data\n      }\n    } else {\n      offset.offset = this.config.offset\n    }\n\n    return offset\n  }\n\n  _getContainer() {\n    if (this.config.container === false) {\n      return document.body\n    }\n\n    if (Util.isElement(this.config.container)) {\n      return $(this.config.container)\n    }\n\n    return $(document).find(this.config.container)\n  }\n\n  _getAttachment(placement) {\n    return AttachmentMap[placement.toUpperCase()]\n  }\n\n  _setListeners() {\n    const triggers = this.config.trigger.split(' ')\n\n    triggers.forEach((trigger) => {\n      if (trigger === 'click') {\n        $(this.element).on(\n          this.constructor.Event.CLICK,\n          this.config.selector,\n          (event) => this.toggle(event)\n        )\n      } else if (trigger !== TRIGGER_MANUAL) {\n        const eventIn = trigger === TRIGGER_HOVER\n          ? this.constructor.Event.MOUSEENTER\n          : this.constructor.Event.FOCUSIN\n        const eventOut = trigger === TRIGGER_HOVER\n          ? this.constructor.Event.MOUSELEAVE\n          : this.constructor.Event.FOCUSOUT\n\n        $(this.element)\n          .on(eventIn, this.config.selector, (event) => this._enter(event))\n          .on(eventOut, this.config.selector, (event) => this._leave(event))\n      }\n    })\n\n    this._hideModalHandler = () => {\n      if (this.element) {\n        this.hide()\n      }\n    }\n\n    $(this.element).closest('.modal').on('hide.bs.modal', this._hideModalHandler)\n\n    if (this.config.selector) {\n      this.config = {\n        ...this.config,\n        trigger: 'manual',\n        selector: ''\n      }\n    } else {\n      this._fixTitle()\n    }\n  }\n\n  _fixTitle() {\n    const titleType = typeof this.element.getAttribute('data-original-title')\n\n    if (this.element.getAttribute('title') || titleType !== 'string') {\n      this.element.setAttribute(\n        'data-original-title',\n        this.element.getAttribute('title') || ''\n      )\n\n      this.element.setAttribute('title', '')\n    }\n  }\n\n  _enter(event, context) {\n    const dataKey = this.constructor.DATA_KEY\n    context = context || $(event.currentTarget).data(dataKey)\n\n    if (!context) {\n      context = new this.constructor(\n        event.currentTarget,\n        this._getDelegateConfig()\n      )\n      $(event.currentTarget).data(dataKey, context)\n    }\n\n    if (event) {\n      context._activeTrigger[\n        event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER\n      ] = true\n    }\n\n    if ($(context.getTipElement()).hasClass(CLASS_NAME_SHOW) || context._hoverState === HOVER_STATE_SHOW) {\n      context._hoverState = HOVER_STATE_SHOW\n      return\n    }\n\n    clearTimeout(context._timeout)\n\n    context._hoverState = HOVER_STATE_SHOW\n\n    if (!context.config.delay || !context.config.delay.show) {\n      context.show()\n      return\n    }\n\n    context._timeout = setTimeout(() => {\n      if (context._hoverState === HOVER_STATE_SHOW) {\n        context.show()\n      }\n    }, context.config.delay.show)\n  }\n\n  _leave(event, context) {\n    const dataKey = this.constructor.DATA_KEY\n    context = context || $(event.currentTarget).data(dataKey)\n\n    if (!context) {\n      context = new this.constructor(\n        event.currentTarget,\n        this._getDelegateConfig()\n      )\n      $(event.currentTarget).data(dataKey, context)\n    }\n\n    if (event) {\n      context._activeTrigger[\n        event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER\n      ] = false\n    }\n\n    if (context._isWithActiveTrigger()) {\n      return\n    }\n\n    clearTimeout(context._timeout)\n\n    context._hoverState = HOVER_STATE_OUT\n\n    if (!context.config.delay || !context.config.delay.hide) {\n      context.hide()\n      return\n    }\n\n    context._timeout = setTimeout(() => {\n      if (context._hoverState === HOVER_STATE_OUT) {\n        context.hide()\n      }\n    }, context.config.delay.hide)\n  }\n\n  _isWithActiveTrigger() {\n    for (const trigger in this._activeTrigger) {\n      if (this._activeTrigger[trigger]) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  _getConfig(config) {\n    const dataAttributes = $(this.element).data()\n\n    Object.keys(dataAttributes)\n      .forEach((dataAttr) => {\n        if (DISALLOWED_ATTRIBUTES.indexOf(dataAttr) !== -1) {\n          delete dataAttributes[dataAttr]\n        }\n      })\n\n    config = {\n      ...this.constructor.Default,\n      ...dataAttributes,\n      ...typeof config === 'object' && config ? config : {}\n    }\n\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      }\n    }\n\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString()\n    }\n\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString()\n    }\n\n    Util.typeCheckConfig(\n      NAME,\n      config,\n      this.constructor.DefaultType\n    )\n\n    if (config.sanitize) {\n      config.template = sanitizeHtml(config.template, config.whiteList, config.sanitizeFn)\n    }\n\n    return config\n  }\n\n  _getDelegateConfig() {\n    const config = {}\n\n    if (this.config) {\n      for (const key in this.config) {\n        if (this.constructor.Default[key] !== this.config[key]) {\n          config[key] = this.config[key]\n        }\n      }\n    }\n\n    return config\n  }\n\n  _cleanTipClass() {\n    const $tip = $(this.getTipElement())\n    const tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX)\n    if (tabClass !== null && tabClass.length) {\n      $tip.removeClass(tabClass.join(''))\n    }\n  }\n\n  _handlePopperPlacementChange(popperData) {\n    this.tip = popperData.instance.popper\n    this._cleanTipClass()\n    this.addAttachmentClass(this._getAttachment(popperData.placement))\n  }\n\n  _fixTransition() {\n    const tip = this.getTipElement()\n    const initConfigAnimation = this.config.animation\n\n    if (tip.getAttribute('x-placement') !== null) {\n      return\n    }\n\n    $(tip).removeClass(CLASS_NAME_FADE)\n    this.config.animation = false\n    this.hide()\n    this.show()\n    this.config.animation = initConfigAnimation\n  }\n\n  // Static\n\n  static _jQueryInterface(config) {\n    return this.each(function () {\n      let data = $(this).data(DATA_KEY)\n      const _config = typeof config === 'object' && config\n\n      if (!data && /dispose|hide/.test(config)) {\n        return\n      }\n\n      if (!data) {\n        data = new Tooltip(this, _config)\n        $(this).data(DATA_KEY, data)\n      }\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = Tooltip._jQueryInterface\n$.fn[NAME].Constructor = Tooltip\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return Tooltip._jQueryInterface\n}\n\nexport default Tooltip\n"],"names":["_jquery","_interopRequireDefault","_popper","_util","NAME","EVENT_KEY","DATA_KEY","JQUERY_NO_CONFLICT","$","fn","BSCLS_PREFIX_REGEX","RegExp","DISALLOWED_ATTRIBUTES","DefaultType","animation","template","title","trigger","delay","html","selector","placement","offset","container","fallbackPlacement","boundary","sanitize","sanitizeFn","whiteList","popperConfig","AttachmentMap","AUTO","TOP","RIGHT","BOTTOM","LEFT","Default","DefaultWhitelist","Event","HIDE","HIDDEN","SHOW","SHOWN","INSERTED","CLICK","FOCUSIN","FOCUSOUT","MOUSEENTER","MOUSELEAVE","Tooltip","element","config","_classCallCheck","this","Popper","TypeError","_isEnabled","_timeout","_hoverState","_activeTrigger","_getConfig","tip","_setListeners","value","each","data","default","_config","_typeof","test","event","dataKey","constructor","context","currentTarget","_getDelegateConfig","click","_isWithActiveTrigger","_enter","_leave","getTipElement","hasClass","clearTimeout","removeData","off","closest","_hideModalHandler","remove","destroy","_this","css","Error","showEvent","isWithContent","shadowRoot","Util","findShadowRoot","isInTheDom","contains","ownerDocument","documentElement","isDefaultPrevented","tipId","getUID","setAttribute","setContent","addClass","call","attachment","_getAttachment","addAttachmentClass","_getContainer","appendTo","_getPopperConfig","document","body","children","on","noop","complete","_fixTransition","prevHoverState","transitionDuration","getTransitionDurationFromElement","one","TRANSITION_END","emulateTransitionEnd","callback","_this2","hideEvent","parentNode","removeChild","_cleanTipClass","removeAttribute","removeClass","scheduleUpdate","Boolean","getTitle","CLASS_PREFIX","setElementContent","querySelectorAll","CLASS_NAME_FADE","$element","content","nodeType","jquery","text","parent","is","empty","append","getAttribute","_this3","_objectSpread","modifiers","_getOffset","flip","behavior","arrow","preventOverflow","boundariesElement","onCreate","originalPlacement","_handlePopperPlacementChange","onUpdate","_this4","offsets","isElement","find","toUpperCase","_this5","split","forEach","toggle","eventIn","eventOut","hide","_fixTitle","titleType","type","show","setTimeout","dataAttributes","Object","keys","dataAttr","indexOf","toString","typeCheckConfig","_sanitizer","sanitizeHtml","key","$tip","tabClass","attr","match","length","join","popperData","instance","popper","initConfigAnimation","_jQueryInterface","Constructor","noConflict"],"mappings":"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"}